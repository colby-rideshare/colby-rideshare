{% extends 'carpool/base.html' %}
{% load crispy_forms_tags %}

{% block title%}
    <title> Profile view </title>
{% endblock title %}

{% block content %}
<div class="content-section">
    <div class="media">
    <img class="rounded-circle account-img" src={{ user.profile.image.url }}>
    <div class="media-body">
        <h2 class="account-heading">{{ user.username }}</h2>
        <p class="text-secondary">{{ user.email }}</p>
    </div>
    </div>
    <form method="POST" enctype="multipart/form-data"> <!-- need the enctype to save image properly -->
        {% csrf_token %} <!-- django security features -->
        <fieldset class="form-group"> <!-- fieldset creates box around content -->
            <legend class="border-bottom mb-4">Profile info</legend>
            {{ u_form|crispy }} <!-- |crispy applies crispy forms styling to form -->
            {{ p_form|crispy }}
        </fieldset>
        <div class="form-group">
            <button class="btn btn-outline-info" type="submit">Update</button>
        </div>
    </form> 
</div>
{% endblock content %}  